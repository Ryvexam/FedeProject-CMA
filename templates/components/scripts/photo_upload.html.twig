{# components/scripts/photo_upload.html.twig #}
{% macro photo_upload_script() %}
    <script>
        const initPhotoUpload = () => {
            const fileInput = document.querySelector('[data-photo-input]');
            const fileLabel = document.querySelector('[data-photo-label]');
            const fileName = document.getElementById('photo-name');

            if (fileInput) {
                fileInput.addEventListener('change', function(e) {
                    if (e.target.files.length > 0) {
                        const file = e.target.files[0];
                        fileLabel.textContent = 'Photo selected';
                        fileName.textContent = file.name;
                    } else {
                        fileLabel.textContent = 'Choose a photo...';
                        fileName.textContent = '';
                    }
                });
            }
        };
    </script>
{% endmacro %}